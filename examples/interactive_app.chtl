// CHTL äº¤äº’å¼åº”ç”¨ç¤ºä¾‹
// ä¸€ä¸ªå®Œæ•´çš„ TODO åº”ç”¨ï¼Œå±•ç¤º CHTL çš„æ‰€æœ‰åŠŸèƒ½

html {
    head {
        title: "CHTL TODO åº”ç”¨";
        
        meta {
            charset: "UTF-8";
        }
        
        meta {
            name: "viewport";
            content: "width=device-width, initial-scale=1.0";
        }
    }
    
    body {
        style {
            margin: 0;
            padding: 0;
            font-family: Arial;
            background-color: #667eea;
            min-height: 100vh;
        }
        
        // ========== åº”ç”¨å®¹å™¨ ==========
        div {
            class: "app-container";
            
            style {
                max-width: 600px;
                margin: 0 auto;
                padding: 40px + 20px;
            }
            
            // ========== æ ‡é¢˜ ==========
            h1 {
                style {
                    text-align: center;
                    color: white;
                    font-size: 16px * 2.5;
                    margin: 0px + 0px;
                    margin-bottom: 30px;
                    text-shadow: 0px 2px 4px rgba;
                }
                
                text: "ğŸ“ CHTL TODO";
            }
            
            // ========== è¾“å…¥åŒºåŸŸ ==========
            div {
                class: "input-section";
                
                style {
                    background-color: white;
                    padding: 20px;
                    border-radius: 10px;
                    box-shadow: 0px 4px 6px rgba;
                    margin-bottom: 20px;
                }
                
                input {
                    id: "todoInput";
                    type: "text";
                    placeholder: "è¾“å…¥æ–°çš„å¾…åŠäº‹é¡¹...";
                    
                    style {
                        width: 100%;
                        padding: 12px + 15px;
                        font-size: 16px;
                        border: 2px solid #e0e0e0;
                        border-radius: 8px;
                        box-sizing: border-box;
                    }
                    
                    script {
                        this.addEventListener("keypress", function(e) {
                            if (e.key === "Enter") {
                                document.getElementById("addButton").click();
                            }
                        });
                    }
                }
                
                button {
                    id: "addButton";
                    
                    style {
                        width: 100%;
                        padding: 12px;
                        margin-top: 10px;
                        font-size: 16px;
                        font-weight: bold;
                        background-color: #4CAF50;
                        color: white;
                        border: none;
                        border-radius: 8px;
                        cursor: pointer;
                    }
                    
                    script {
                        var todoId = 0;
                        
                        this.addEventListener("click", function() {
                            var input = document.getElementById("todoInput");
                            var text = input.value.trim();
                            
                            if (text) {
                                var list = document.getElementById("todoList");
                                var item = document.createElement("div");
                                item.className = "todo-item";
                                item.id = "todo-" + todoId++;
                                
                                item.innerHTML = 
                                    "<span class='todo-text'>" + text + "</span>" +
                                    "<button class='delete-btn' onclick='this.parentElement.remove()'>åˆ é™¤</button>";
                                
                                list.appendChild(item);
                                input.value = "";
                                
                                updateCount();
                            }
                        });
                        
                        function updateCount() {
                            var count = document.querySelectorAll(".todo-item").length;
                            document.getElementById("todoCount").textContent = 
                                "å…± " + count + " é¡¹å¾…åŠ";
                        }
                    }
                    
                    text: "æ·»åŠ å¾…åŠ";
                }
            }
            
            // ========== TODO åˆ—è¡¨ ==========
            div {
                class: "list-section";
                
                style {
                    background-color: white;
                    padding: 20px;
                    border-radius: 10px;
                    box-shadow: 0px 4px 6px rgba;
                    margin-bottom: 20px;
                    min-height: 200px;
                }
                
                h2 {
                    style {
                        margin: 0px + 0px;
                        margin-bottom: 15px;
                        color: #333;
                        font-size: 20px;
                    }
                    
                    text: "å¾…åŠåˆ—è¡¨";
                }
                
                div {
                    id: "todoList";
                    
                    style {
                        min-height: 150px;
                    }
                    
                    // åˆå§‹æç¤º
                    div {
                        class: "empty-hint";
                        
                        style {
                            text-align: center;
                            color: #999;
                            padding: 40px + 20px;
                        }
                        
                        text: "æš‚æ— å¾…åŠäº‹é¡¹ï¼Œæ·»åŠ ä¸€ä¸ªå§ï¼";
                    }
                }
                
                div {
                    id: "todoCount";
                    
                    style {
                        text-align: center;
                        color: #666;
                        margin-top: 15px;
                        font-size: 14px;
                    }
                    
                    text: "å…± 0 é¡¹å¾…åŠ";
                }
            }
            
            // ========== åŠŸèƒ½æŒ‰é’® ==========
            div {
                class: "action-buttons";
                
                style {
                    display: flex;
                    gap: 10px;
                }
                
                button {
                    id: "clearAllButton";
                    
                    style {
                        flex: 1;
                        padding: 10px;
                        font-size: 14px;
                        background-color: #f44336;
                        color: white;
                        border: none;
                        border-radius: 8px;
                        cursor: pointer;
                    }
                    
                    script {
                        this.addEventListener("click", function() {
                            if (confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å¾…åŠå—?")) {
                                document.getElementById("todoList").innerHTML = 
                                    "<div class='empty-hint' style='text-align: center; color: #999; padding: 60px 20px;'>" +
                                    "æš‚æ— å¾…åŠäº‹é¡¹ï¼Œæ·»åŠ ä¸€ä¸ªå§ï¼</div>";
                                document.getElementById("todoCount").textContent = "å…± 0 é¡¹å¾…åŠ";
                            }
                        });
                    }
                    
                    text: "æ¸…ç©ºå…¨éƒ¨";
                }
                
                button {
                    id: "refreshButton";
                    
                    style {
                        flex: 1;
                        padding: 10px;
                        font-size: 14px;
                        background-color: #2196F3;
                        color: white;
                        border: none;
                        border-radius: 8px;
                        cursor: pointer;
                    }
                    
                    script {
                        this.addEventListener("click", function() {
                            location.reload();
                        });
                    }
                    
                    text: "åˆ·æ–°é¡µé¢";
                }
            }
        }
        
        // ========== å…¨å±€æ ·å¼è„šæœ¬ ==========
        script {
            // æ·»åŠ å…¨å±€ CSS æ ·å¼
            var style = document.createElement("style");
            style.textContent = `
                .todo-item {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 12px;
                    margin: 8px 0;
                    background-color: #f9f9f9;
                    border-radius: 6px;
                    border-left: 4px solid #4CAF50;
                }
                
                .todo-text {
                    flex: 1;
                    font-size: 16px;
                    color: #333;
                }
                
                .delete-btn {
                    padding: 6px 12px;
                    background-color: #f44336;
                    color: white;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 14px;
                }
                
                .delete-btn:hover {
                    background-color: #da190b;
                }
                
                .empty-hint {
                    display: block !important;
                }
                
                input:focus {
                    outline: none;
                    border-color: #4CAF50;
                }
                
                button:hover {
                    opacity: 0.9;
                }
                
                button:active {
                    transform: scale(0.98);
                }
            `;
            document.head.appendChild(style);
            
            console.log("CHTL TODO åº”ç”¨å·²åŠ è½½");
            console.log("ç‰ˆæœ¬: v0.5.0");
            console.log("åŠŸèƒ½: å†…è”æ ·å¼ + å±æ€§è¿ç®— + è„šæœ¬å—");
        }
        
        // ========== é¡µè„š ==========
        div {
            style {
                text-align: center;
                color: white;
                margin-top: 30px;
                font-size: 14px;
            }
            
            text: "ä½¿ç”¨ CHTL v0.5.0 æ„å»º | å±•ç¤ºå®Œæ•´åŠŸèƒ½";
        }
    }
}
