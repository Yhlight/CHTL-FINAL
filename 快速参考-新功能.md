# ğŸš€ CHTL v1.0 æ–°åŠŸèƒ½å¿«é€Ÿå‚è€ƒ

**æ›´æ–°æ—¥æœŸ**: 2025-10-24

---

## 1. äº‹ä»¶ç»‘å®šæ“ä½œç¬¦ (`&->`)

### è¯­æ³•

#### å•äº‹ä»¶ç»‘å®š
```chtl
{{selector}} &-> eventName: handler;
```

#### å¤šäº‹ä»¶ç»‘å®š
```chtl
{{selector}} &-> event1, event2, event3: handler;
```

#### é“¾å¼ç»‘å®š
```chtl
{{selector}} &-> event1: handler1,
             &-> event2: handler2,
             &-> event3: handler3;
```

#### å—å½¢å¼
```chtl
{{selector}} &-> {
    event1: handler1,
    event2: handler2,
    event3: handler3
};
```

### ç¤ºä¾‹

```chtl
button {
    style {
        .btn { background: blue; }
    }
    
    script {
        // å•å‡»äº‹ä»¶
        {{.btn}} &-> click: () => {
            console.log('Button clicked!');
        };
        
        // å¤šäº‹ä»¶
        {{.btn}} &-> mouseenter, mouseleave: (e) => {
            console.log(e.type);
        };
        
        // å—å½¢å¼ï¼ˆæ¨èï¼‰
        {{.btn}} &-> {
            click: handleClick,
            mouseenter: handleEnter,
            mouseleave: handleLeave
        };
    }
}
```

---

## 2. è·¯ç”±ç³»ç»Ÿ (`Router`)

### åŸºæœ¬é…ç½®

```chtl
// URLæ˜ å°„
Router {
    url: "/path",
    page: {{#page-id}},
}

// å¤šä¸ªæ˜ å°„
Router {
    url: "/home", "/about",
    page: {{#home}}, {{#about}}
}
```

### æ¨¡å¼è®¾ç½®

```chtl
// Historyæ¨¡å¼ (æ¨è)
Router {
    mode: "history"
}

// Hashæ¨¡å¼
Router {
    mode: "hash"
}
```

### æ ¹é…ç½®

```chtl
// è®¾ç½®æ ¹è·¯å¾„
Router {
    root: "/"
}

// è®¾ç½®æ ¹å®¹å™¨
Router {
    root: {{#app}}
}
```

### å®Œæ•´ç¤ºä¾‹

```chtl
html {
    body {
        nav {
            a { href: "/"; text { "é¦–é¡µ" } }
            a { href: "/about"; text { "å…³äº" } }
        }
        
        div { id: "app";
            div { id: "home"; class: "page"; }
            div { id: "about"; class: "page"; }
        }
        
        script {
            // é…ç½®è·¯ç”±
            Router {
                url: "/",
                page: {{#home}},
            }
            
            Router {
                url: "/about",
                page: {{#about}},
            }
            
            Router {
                root: {{#app}},
                mode: "history"
            }
            
            // é“¾æ¥ç‚¹å‡»å¤„ç†
            {{nav a}} &-> click: (e) => {
                e.preventDefault();
                history.pushState(null, '', e.target.href);
                Router.navigate(e.target.href);
            };
        }
    }
}
```

---

## 3. å“åº”å¼å€¼ (`$å˜é‡$`)

### è¯­æ³•

```chtl
$variableName$
```

### åœ¨å±æ€§ä¸­ä½¿ç”¨

```chtl
div {
    id = $elementId$;
    class = $elementClass$;
}
```

### åœ¨æ ·å¼ä¸­ä½¿ç”¨

```chtl
div {
    style {
        width: $boxWidth$;
        height: $boxHeight$ * 2;
        left: $posX$ + 10px;
    }
}
```

### å®Œæ•´ç¤ºä¾‹

```chtl
div {
    class = $boxClass$;
    
    style {
        width: $boxWidth$ + 20px;
        height: $boxHeight$ * 2;
        background-color: $bgColor$;
    }
    
    script {
        // å®šä¹‰å“åº”å¼å˜é‡
        let boxClass = "container";
        let boxWidth = 100;
        let boxHeight = 50;
        let bgColor = "#007bff";
        
        // å˜é‡å¯ä»¥åŠ¨æ€æ”¹å˜
        function resize() {
            boxWidth = window.innerWidth * 0.8;
            boxHeight = window.innerHeight * 0.6;
        }
    }
}
```

---

## 4. åŠ¨æ€å±æ€§æ¡ä»¶è¡¨è¾¾å¼

### ä½¿ç”¨å¢å¼ºé€‰æ‹©å™¨

```chtl
div {
    id: "box";
    style {
        width: 100px;
    }
}

div {
    style {
        // ä½¿ç”¨{{}}å®ç°åŠ¨æ€å¼•ç”¨
        width: {{#box}}.offsetWidth > 100 ? 200px : 100px;
    }
}
```

### ç»“åˆå“åº”å¼å€¼

```chtl
div {
    style {
        display: $isVisible$ ? "block" : "none";
        opacity: $opacity$ / 100;
    }
    
    script {
        let isVisible = true;
        let opacity = 80;
    }
}
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### äº‹ä»¶ç»‘å®š

**æ¨è**: ä½¿ç”¨å—å½¢å¼ï¼Œä»£ç æ›´æ¸…æ™°
```chtl
{{element}} &-> {
    click: handleClick,
    mouseenter: handleEnter,
    mouseleave: handleLeave
};
```

**ä¸æ¨è**: è¿‡é•¿çš„é“¾å¼
```chtl
{{element}} &-> click: handler1, &-> mouseenter: handler2, &-> ...
```

### è·¯ç”±ç³»ç»Ÿ

**æ¨è**: åˆ†ç¦»é…ç½®
```chtl
// å…ˆå®šä¹‰æ˜ å°„
Router { url: "/home", page: {{#home}} }
Router { url: "/about", page: {{#about}} }

// å†è®¾ç½®æ¨¡å¼
Router { mode: "history" }
```

**ä¸æ¨è**: æ··åœ¨ä¸€èµ·
```chtl
Router {
    url: "/home",
    page: {{#home}},
    mode: "history"
}
```

### å“åº”å¼å€¼

**æ¨è**: æœ‰æ„ä¹‰çš„å˜é‡å
```chtl
let $containerWidth$ = 800;
let $primaryColor$ = "#007bff";
```

**ä¸æ¨è**: ç®€çŸ­æ— æ„ä¹‰çš„åå­—
```chtl
let $w$ = 800;
let $c$ = "#007bff";
```

---

## ğŸ” è°ƒè¯•æŠ€å·§

### æ£€æŸ¥ç”Ÿæˆçš„ä»£ç 

```bash
./chtl input.chtl --output output.html
cat output.html  # æŸ¥çœ‹ç”Ÿæˆçš„HTML
```

### è¿è¡Œæµ‹è¯•

```bash
cd CHTL/build
./tests/NewFeaturesTest -s  # è¯¦ç»†è¾“å‡º
```

### å¸¸è§é—®é¢˜

**Q: äº‹ä»¶ç»‘å®šä¸å·¥ä½œï¼Ÿ**
A: ç¡®ä¿ä½¿ç”¨äº†å¢å¼ºé€‰æ‹©å™¨ `{{...}}`

**Q: è·¯ç”±è·³è½¬å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥é¡µé¢å…ƒç´ æ˜¯å¦æœ‰æ­£ç¡®çš„id/class

**Q: å“åº”å¼å€¼æœªæ›´æ–°ï¼Ÿ**
A: ç¡®ä¿å˜é‡åœ¨scriptå—ä¸­æ­£ç¡®å®šä¹‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- å®Œæ•´è¯­è¨€è§„èŒƒ: `CHTL.md`
- å®æ–½æŠ¥å‘Š: `IMPLEMENTATION_COMPLETE.md`
- æŠ€æœ¯æŠ¥å‘Š: `FINAL_REPORT.md`
- é¡¹ç›®çŠ¶æ€: `PROJECT_STATUS.md`
- è·¯çº¿å›¾: `ROADMAP.md`

---

## ğŸ¯ ç‰ˆæœ¬ä¿¡æ¯

**ç‰ˆæœ¬**: CHTL v1.0.0  
**å‘å¸ƒæ—¥æœŸ**: 2025-10-24  
**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª  
**è®¸å¯**: MIT

---

**å¿«é€Ÿå¼€å§‹**: è¿è¡Œ `python3 build.py` å¼€å§‹ä½¿ç”¨ï¼
